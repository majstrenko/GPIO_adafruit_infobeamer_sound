import threading

def handle_pin_16(state):
    global sixteen_is_on
    if not sixteen_is_on and state == 1:  # Assuming state 1 means active
        sixteen_is_on = True
        print("pin 16 touched")
        # Handle the event here
        node.send('/state:%d' % state)
        sixteen_is_on = False

def gpio_poll_loop():
    for pin_16, state in device.gpio.poll_forever():
        if pin_16 == 16:  # Assuming you're interested in pin 16
            handle_pin_16(state)

# Start the GPIO polling loop in a separate thread
gpio_poll_thread = threading.Thread(target=gpio_poll_loop)
gpio_poll_thread.start()
